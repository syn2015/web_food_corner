(function(e){function t(t){for(var a,i,c=t[0],o=t[1],l=t[2],p=0,m=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,c=1;c<n.length;c++){var o=n[c];0!==r[o]&&(a=!1)}a&&(s.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={app:0},s=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/admin/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"039a":function(e,t,n){"use strict";var a=n("7174"),r=n.n(a);r.a},1007:function(e,t,n){},"22de":function(e,t,n){"use strict";var a=n("8319"),r=n.n(a);r.a},"34ee":function(e,t,n){"use strict";var a=n("e587"),r=n.n(a);r.a},"38c8":function(e,t,n){},4746:function(e,t,n){"use strict";var a=n("6bb8"),r=n.n(a);r.a},"4ba5":function(e,t,n){"use strict";var a=n("6539"),r=n.n(a);r.a},"50f4":function(e,t,n){"use strict";var a=n("1007"),r=n.n(a);r.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("2819"),s=n.n(r),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},c=[],o=(n("5c0b"),n("2877")),l={},u=Object(o["a"])(l,i,c,!1,null,null,null),p=u.exports,m=n("5c96"),d=n.n(m);n("c69f");a["default"].use(d.a);var h=n("8c4f"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{staticStyle:{height:"100vh",border:"1px solid #eee"}},[n("el-aside",{staticStyle:{"background-color":"rgb(255, 255, 255)"},attrs:{width:"200px"}},[n("h5",{staticStyle:{"text-align":"center"}},[e._v("Food Corner 后台管理系统")]),n("el-menu",{attrs:{router:"","default-active":e.$route.path}},[n("el-submenu",{attrs:{index:"0"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-home"}),e._v("首页")]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/home"}},[e._v("数据统计")])],1)],2),n("el-submenu",{attrs:{index:"1"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-menu"}),e._v("菜谱分类管理")]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/categories/list"}},[e._v("菜谱分类列表")]),n("el-menu-item",{attrs:{index:"/categories/create"}},[e._v("新增菜谱分类")])],1)],2),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-order"}),e._v("菜谱管理")]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/menus/list"}},[e._v("菜谱列表")]),n("el-menu-item",{attrs:{index:"/menus/create"}},[e._v("新增菜谱")])],1)],2),n("el-submenu",{attrs:{index:"3"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-comment"}),e._v("菜品评论管理")]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/comments/list"}},[e._v("菜品评论列表")])],1)],2),n("el-submenu",{attrs:{index:"4"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-flag"}),e._v("社区管理")]),n("el-menu-item-group",[n("el-menu-item",{attrs:{index:"/articles/list"}},[e._v("文章列表")]),n("el-menu-item",{attrs:{index:"/articles/create"}},[e._v("新建文章")])],1)],2),n("el-submenu",{attrs:{index:"5"}},[n("template",{slot:"title"},[n("i",{staticClass:"el-icon-s-tools"}),e._v("系统管理")]),n("el-menu-item-group",{attrs:{title:"广告位"}},[n("el-menu-item",{attrs:{index:"/ads/list"}},[e._v("广告位列表")]),n("el-menu-item",{attrs:{index:"/ads/create"}},[e._v("新建广告位")])],1),n("el-menu-item-group",{attrs:{title:"用户"}},[n("el-menu-item",{attrs:{index:"/users/list"}},[e._v("用户列表")])],1),n("el-menu-item-group",{attrs:{title:"管理员"}},[n("el-menu-item",{attrs:{index:"/admins/list"}},[e._v("管理员列表")]),n("el-menu-item",{attrs:{index:"/admins/create"}},[e._v("新建管理员")])],1)],2)],1)],1),n("el-container",[n("el-header",{staticStyle:{"text-align":"right","font-size":"12px",height:"40px"}},[n("el-dropdown",[n("i",{staticClass:"el-icon-setting"}),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{nativeOn:{click:function(t){return e.exit(t)}}},[e._v("退出登录")])],1)],1)],1),n("el-main",[n("router-view",{key:e.$route.path})],1)],1)],1)},g=[],v={methods:{exit:function(){var e=this;this.$confirm("确定要退出登录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$message({type:"success",message:"退出成功!"}),localStorage.clear(),e.$router.push("/")})).catch((function(){e.$message({type:"info",message:"已取消退出"})}))}}},b=v,x=(n("22de"),Object(o["a"])(b,f,g,!1,null,null,null)),w=x.exports,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"about"},[n("div",{staticClass:"card"},[n("h1",[e._v("菜谱总数")]),n("p",[n("strong",[e._v(e._s(e.menusNum))])])]),n("div",{staticClass:"card"},[n("h1",[e._v("文章总数")]),n("p",[n("strong",[e._v(e._s(e.articlesNum))])])]),n("div",{staticClass:"card"},[n("h1",[e._v("用户总数")]),n("p",[n("strong",[e._v(e._s(e.usersNum))])])]),n("div",[n("ve-pie",{attrs:{data:e.chartData}})],1)])},y=[],$=(n("4160"),n("b0c0"),n("159b"),n("96cf"),n("1da1")),k={data:function(){return{chartData:{columns:[],rows:[]},menusNum:"",articlesNum:"",usersNum:""}},methods:{fetchMenus:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/menus/");case 2:n=t.sent,e.menusNum=n.data.length,n.data.forEach((function(t){e.chartData.columns=t.parent.name}));case 5:case"end":return t.stop()}}),t)})))()},fetchArticles:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/articles/");case 2:n=t.sent,e.articlesNum=n.data.length;case 4:case"end":return t.stop()}}),t)})))()},fetchUsers:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/users/");case 2:n=t.sent,e.usersNum=n.data.length;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.fetchMenus(),this.fetchArticles(),this.fetchUsers()}},z=k,R=(n("cccb"),Object(o["a"])(z,_,y,!1,null,null,null)),O=R.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container",staticStyle:{height:"100vh"}},[n("div",[n("el-card",{staticClass:"login-card",attrs:{header:"请先登录"}},[n("el-form",{nativeOn:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-input",{attrs:{type:"text"},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1),n("el-form-item",[n("p",{staticStyle:{color:"red"}},[e._v("* 测试用户名：admin 密码：123456")]),n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("登录")])],1)],1)],1)],1)])},C=[],S={data:function(){return{model:{}}},methods:{login:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("login",e.model);case 2:n=t.sent,localStorage.token=n.data.token,e.$router.push("/home"),e.$message({type:"success",message:"登录成功"});case 6:case"end":return t.stop()}}),t)})))()}}},P=S,D=(n("039a"),Object(o["a"])(P,j,C,!1,null,null,null)),E=D.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v("菜谱分类列表")]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),height:"450"}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"#"}}),n("el-table-column",{attrs:{prop:"parent.name",label:"上级分类"}}),n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{prop:"icon",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{staticStyle:{height:"1rem"},attrs:{src:e.row.icon}})]}}])}),n("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.$router.push("/categories/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[e._v(" //这是显示总共有多少数据， ")])],1)},B=[],T={data:function(){return{tableData:[],currentPage:1,pagesize:5}},methods:{fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories/");case 2:n=t.sent,e.tableData=n.data;case 4:case"end":return t.stop()}}),t)})))()},remove:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$confirm('是否确定要删除分类?"'.concat(e.name,'"'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.delete("rest/categories/".concat(e._id));case 2:t.$message({type:"success",message:"删除成功!"}),t.fetch();case 4:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}},created:function(){this.fetch()}},A=T,N=(n("81be"),Object(o["a"])(A,U,B,!1,null,null,null)),L=N.exports,H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v(e._s(e.id?"编辑":"新增")+"菜谱分类")]),n("el-form",{attrs:{"label-width":"80px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"上级分类"}},[n("el-select",{model:{value:e.model.parent,callback:function(t){e.$set(e.model,"parent",t)},expression:"model.parent"}},e._l(e.parents,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{width:"150"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-form-item",{attrs:{label:"图标"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload,headers:e.getAuthHeaders()}},[e.model.icon?n("img",{staticClass:"avatar",attrs:{src:e.model.icon}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},I=[],M=(n("4de4"),{props:{id:{}},data:function(){return{model:{},parents:[]}},methods:{afterUpload:function(e){this.$set(this.model,"icon",e.url)},save:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,e.$http.put("rest/categories/".concat(e.id),e.model);case 3:t.sent,t.next=9;break;case 6:return t.next=8,e.$http.post("rest/categories",e.model);case 8:t.sent;case 9:e.$router.push("/categories/list"),e.$message({type:"success",message:"保存成功"});case 11:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories/".concat(e.id));case 2:n=t.sent,e.model=n.data;case 4:case"end":return t.stop()}}),t)})))()},fetchParents:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories");case 2:n=t.sent,a=n.data.filter((function(e){if(!e.parent)return e})),e.parents=a;case 5:case"end":return t.stop()}}),t)})))()}},created:function(){this.fetchParents(),this.id&&this.fetch()}}),V=M,F=Object(o["a"])(V,H,I,!1,null,null,null),J=F.exports,q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v("菜谱列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),height:"450"}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"#"}}),n("el-table-column",{attrs:{prop:"parent.name",label:"所属分类"}}),n("el-table-column",{attrs:{prop:"name",label:"菜名"}}),n("el-table-column",{attrs:{label:"制作难度"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.difficulty?n("el-tag",[e._v("简单")]):2==t.row.difficulty?n("el-tag",{attrs:{type:"success"}},[e._v("一般")]):3==t.row.difficulty?n("el-tag",{attrs:{type:"info"}},[e._v("中等")]):4==t.row.difficulty?n("el-tag",{attrs:{type:"warning"}},[e._v("困难")]):5==t.row.difficulty?n("el-tag",{attrs:{type:"danger"}},[e._v("极难")]):e._e()]}}])}),n("el-table-column",{attrs:{prop:"time",label:"制作时长"}}),n("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.$router.push("/menus/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[e._v(" //这是显示总共有多少数据， ")])],1)},G=[],K={data:function(){return{tableData:[],currentPage:1,pagesize:5,select:""}},methods:{fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/menus/");case 2:n=t.sent,e.tableData=n.data;case 4:case"end":return t.stop()}}),t)})))()},remove:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$confirm('是否确定要删除菜谱"'.concat(e.name,'"?'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.delete("rest/menus/".concat(e._id));case 2:t.$message({type:"success",message:"删除成功!"}),t.fetch();case 4:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e}},created:function(){this.fetch()}},Q=K,W=(n("4746"),Object(o["a"])(Q,q,G,!1,null,null,null)),X=W.exports,Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v(e._s(e.id?"编辑":"新增")+"菜谱")]),n("el-form",{attrs:{"label-width":"100px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-tabs",{attrs:{type:"border-card"}},[n("el-tab-pane",{attrs:{label:"基本信息"}},[n("el-form-item",{attrs:{label:"名称"}},[n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{width:"150"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1)],1),n("el-form-item",{attrs:{label:"所属分类"}},[n("el-select",{model:{value:e.model.parent,callback:function(t){e.$set(e.model,"parent",t)},expression:"model.parent"}},e._l(e.parents,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"轮播图展示"}},[n("el-col",{attrs:{span:8}},[n("el-carousel",{attrs:{interval:4e3,type:"card",height:"80px"}},e._l(e.model.images,(function(t,a){return n("el-carousel-item",{key:a},[t.img?n("img",{staticClass:"avatar",attrs:{src:t.img}}):e._e()])})),1)],1)],1),n("el-form-item",{attrs:{label:"上传轮播图"}},[n("el-upload",{attrs:{action:e.$http.defaults.baseURL+"/upload","file-list":e.model.images.img,"list-type":"picture-card","on-remove":e.handleRemove,"on-success":e.afterUpload,headers:e.getAuthHeaders()}},[n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"难度系数"}},[n("el-rate",{staticStyle:{"margin-top":"0.6rem"},attrs:{"show-text":"",texts:e.texts},model:{value:e.model.difficulty,callback:function(t){e.$set(e.model,"difficulty",t)},expression:"model.difficulty"}})],1),n("el-form-item",{attrs:{label:"制作时间"}},[n("el-col",{attrs:{span:4}},[n("el-input",{model:{value:e.model.time,callback:function(t){e.$set(e.model,"time",t)},expression:"model.time"}},[n("template",{slot:"append"},[e._v("分钟")])],2)],1)],1),n("el-form-item",{attrs:{label:"简单描述"}},[n("el-col",{attrs:{span:15}},[n("el-input",{attrs:{type:"textarea",rows:2},model:{value:e.model.description,callback:function(t){e.$set(e.model,"description",t)},expression:"model.description"}})],1)],1),n("el-form-item",[n("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1),n("el-tab-pane",{attrs:{label:"食材准备",name:"ingredient"}},[n("el-button",{on:{click:function(t){return e.model.ingredient.push({})}}},[n("i",{staticClass:"el-icon-plus"}),e._v("添加食材")]),e._l(e.model.ingredient,(function(t,a){return n("el-row",{key:a,staticStyle:{"flex-wrap":"wrap","margin-top":"5px"},attrs:{gutter:10,type:"flex"}},[n("el-form-item",{attrs:{label:"食材"}},[n("el-col",{attrs:{span:12}},[n("el-input",{attrs:{placeholder:"请填写食材名称"},model:{value:t.foodname,callback:function(n){e.$set(t,"foodname",n)},expression:"item.foodname"}})],1),n("el-col",{attrs:{span:10}},[n("el-input",{staticClass:"input-with-select",model:{value:t.amount,callback:function(n){e.$set(t,"amount",n)},expression:"item.amount"}},[n("el-select",{attrs:{slot:"append",placeholder:"请选择单位"},slot:"append",model:{value:t.unit,callback:function(n){e.$set(t,"unit",n)},expression:"item.unit"}},e._l(e.units,(function(e){return n("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),n("el-col",{attrs:{span:2}},[n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(t){return e.model.ingredient.splice(a,1)}}},[e._v("删除")])],1)],1)],1)})),n("el-form-item",[n("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],2),n("el-tab-pane",{attrs:{label:"料理步骤"}},[n("el-button",{on:{click:function(t){return e.model.step.push({})}}},[n("i",{staticClass:"el-icon-plus"}),e._v("添加料理步骤")]),e._l(e.model.step,(function(t,a){return n("el-row",{key:a,staticStyle:{"flex-wrap":"wrap","margin-top":"10px"},attrs:{gutter:20,type:"flex"}},[n("el-col",{attrs:{span:2.5}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":function(n){return e.$set(t,"image",n.url)},headers:e.getAuthHeaders()}},[t.image?n("img",{staticClass:"avatar",attrs:{src:t.image}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-col",{attrs:{span:14}},[n("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请填写步骤描述"},model:{value:t.desc,callback:function(n){e.$set(t,"desc",n)},expression:"item.desc"}})],1),n("el-col",{attrs:{span:2}},[n("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"small",type:"danger"},on:{click:function(t){return e.model.step.splice(a,1)}}},[e._v("删除")])],1)],1)})),n("el-form-item",[n("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],2)],1)],1)],1)},Z=[],ee={props:{id:{}},data:function(){return{fileList:[],texts:["简单","一般","中等","困难","极难"],model:{name:"",images:[],difficulty:0,time:"",description:"",ingredient:[],step:[]},selectparent:"",parents:[],units:["勺","克","个","片","毫升","斤","滴","根"]}},methods:{handleRemove:function(e,t){console.log(e,t)},afterUpload:function(e){this.model.images.push({img:e.url})},save:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,e.$http.put("rest/menus/".concat(e.id),e.model);case 3:t.sent,t.next=9;break;case 6:return t.next=8,e.$http.post("rest/menus",e.model);case 8:t.sent;case 9:e.$router.push("/menus/list"),e.$message({type:"success",message:"保存成功"});case 11:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/menus/".concat(e.id));case 2:n=t.sent,e.model=n.data;case 4:case"end":return t.stop()}}),t)})))()},fetchParents:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories");case 2:n=t.sent,a=n.data.filter((function(e){if(e.parent)return console.log(e),e})),e.parents=a;case 5:case"end":return t.stop()}}),t)})))()}},created:function(){this.fetchParents(),this.id&&this.fetch()}},te=ee,ne=(n("50f4"),Object(o["a"])(te,Y,Z,!1,null,null,null)),ae=ne.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v("文章列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),height:"450"}},[n("el-table-column",{attrs:{type:"index",width:"100",label:"#"}}),n("el-table-column",{attrs:{prop:"title",label:"标题"}}),n("el-table-column",{attrs:{prop:"author",label:"作者"}}),n("el-table-column",{attrs:{prop:"icon",label:"封面图"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{staticStyle:{height:"1rem"},attrs:{src:e.row.banner}})]}}])}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.$router.push("/articles/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[e._v(" //这是显示总共有多少数据， ")])],1)},se=[],ie={data:function(){return{tableData:[],currentPage:1,pagesize:5}},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/articles/");case 2:n=t.sent,e.tableData=n.data;case 4:case"end":return t.stop()}}),t)})))()},remove:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$confirm('是否确定要删除分类?"'.concat(e.name,'"'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.delete("rest/articles/".concat(e._id));case 2:t.$message({type:"success",message:"删除成功!"}),t.fetch();case 4:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)})))()}},created:function(){this.fetch()}},ce=ie,oe=(n("34ee"),Object(o["a"])(ce,re,se,!1,null,null,null)),le=oe.exports,ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v(e._s(e.id?"编辑":"新建")+"文章")]),n("el-form",{attrs:{"label-width":"120px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:e.model.title,callback:function(t){e.$set(e.model,"title",t)},expression:"model.title"}})],1),n("el-form-item",{attrs:{label:"作者"}},[n("el-input",{model:{value:e.model.author,callback:function(t){e.$set(e.model,"author",t)},expression:"model.author"}})],1),n("el-form-item",{attrs:{label:"封面图"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload,headers:e.getAuthHeaders()}},[e.model.banner?n("img",{staticClass:"avatar",attrs:{src:e.model.banner}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",{attrs:{label:"详情"}},[n("vue-editor",{attrs:{useCustomImageHandler:""},on:{"image-added":e.handleImageAdded},model:{value:e.model.body,callback:function(t){e.$set(e.model,"body",t)},expression:"model.body"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("保存")])],1)],1)],1)},pe=[],me=n("5873"),de={components:{VueEditor:me["a"]},props:{id:{}},data:function(){return{model:{}}},methods:{afterUpload:function(e){this.$set(this.model,"banner",e.url)},handleImageAdded:function(e,t,n,a){var r=this;return Object($["a"])(regeneratorRuntime.mark((function s(){var i,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=new FormData,i.append("file",e),s.next=4,r.$http.post("upload",i);case 4:c=s.sent,t.insertEmbed(n,"image",c.data.url),a();case 7:case"end":return s.stop()}}),s)})))()},save:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=7;break}return t.next=3,e.$http.put("rest/articles/".concat(e.id),e.model);case 3:n=t.sent,e.model=n.data,t.next=10;break;case 7:return t.next=9,e.$http.post("rest/articles",e.model);case 9:n=t.sent;case 10:e.$router.push("/articles/list"),e.$message({type:"success",message:"保存成功"});case 12:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/articles/".concat(e.id));case 2:n=t.sent,e.model=n.data;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},he=de,fe=Object(o["a"])(he,ue,pe,!1,null,null,null),ge=fe.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v("菜谱评论列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),height:"450"}},[n("el-table-column",{attrs:{fixed:"",prop:"_id",label:"ID"}}),n("el-table-column",{attrs:{prop:"parent.name",label:"上级分类"}}),n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{prop:"icon",label:"图标"}}),n("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.$router.push("/comments/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[e._v(" //这是显示总共有多少数据， ")])],1)},be=[],xe={data:function(){return{tableData:[],currentPage:1,pagesize:5}},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/comments/");case 2:n=t.sent,e.tableData=n.data;case 4:case"end":return t.stop()}}),t)})))()},remove:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$confirm('是否确定要删除分类?"'.concat(e.name,'"'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.delete("rest/comments/".concat(e._id));case 2:t.$message({type:"success",message:"删除成功!"}),t.fetch();case 4:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)})))()}},created:function(){this.fetch()}},we=xe,_e=(n("d38b"),Object(o["a"])(we,ve,be,!1,null,null,null)),ye=_e.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v(e._s(e.id?"编辑":"新增")+"菜谱评论")]),n("el-form",{attrs:{"label-width":"80px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"上级分类"}},[n("el-select",{model:{value:e.model.parent,callback:function(t){e.$set(e.model,"parent",t)},expression:"model.parent"}},e._l(e.parents,(function(e){return n("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),n("el-form-item",{attrs:{label:"名称"}},[n("el-input",{attrs:{width:"150"},model:{value:e.model.name,callback:function(t){e.$set(e.model,"name",t)},expression:"model.name"}})],1),n("el-form-item",{attrs:{label:"图标"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.imageUrl?n("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},ke=[],ze={props:{id:{}},data:function(){return{model:{},parents:[]}},methods:{save:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,e.$http.put("rest/comments/".concat(e.id),e.model);case 3:t.sent,t.next=9;break;case 6:return t.next=8,e.$http.post("rest/comments",e.model);case 8:t.sent;case 9:e.$router.push("/comments/list"),e.$message({type:"success",message:"保存成功"});case 11:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/comments/".concat(e.id));case 2:n=t.sent,e.model=n.data;case 4:case"end":return t.stop()}}),t)})))()},fetchParents:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/comments");case 2:n=t.sent,e.parents=n.data;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.fetchParents(),this.id&&this.fetch()}},Re=ze,Oe=Object(o["a"])(Re,$e,ke,!1,null,null,null),je=Oe.exports,Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v("广告位列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),height:"450"}},[n("el-table-column",{attrs:{type:"index",width:"50",label:"#"}}),n("el-table-column",{attrs:{prop:"image",label:"广告图"},scopedSlots:e._u([{key:"default",fn:function(e){return[n("img",{staticStyle:{height:"3rem"},attrs:{src:e.row.image}})]}}])}),n("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.$router.push("/ads/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[e._v(" //这是显示总共有多少数据， ")])],1)},Se=[],Pe={data:function(){return{tableData:[],currentPage:1,pagesize:5}},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/ads/");case 2:n=t.sent,e.tableData=n.data;case 4:case"end":return t.stop()}}),t)})))()},remove:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$confirm('是否确定要删除分类?"'.concat(e.name,'"'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.delete("rest/ads/".concat(e._id));case 2:t.$message({type:"success",message:"删除成功!"}),t.fetch();case 4:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)})))()}},created:function(){this.fetch()}},De=Pe,Ee=(n("4ba5"),Object(o["a"])(De,Ce,Se,!1,null,null,null)),Ue=Ee.exports,Be=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v(e._s(e.id?"编辑":"新增")+"广告位")]),n("el-form",{attrs:{"label-width":"100px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"广告轮播图"}},[n("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterUpload,headers:e.getAuthHeaders()}},[e.model.image?n("img",{staticClass:"avatar",attrs:{src:e.model.image}}):n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},Te=[],Ae={props:{id:{}},data:function(){return{model:{},parents:[]}},methods:{afterUpload:function(e){this.$set(this.model,"image",e.url)},save:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,e.$http.put("rest/ads/".concat(e.id),e.model);case 3:t.sent,t.next=9;break;case 6:return t.next=8,e.$http.post("rest/ads",e.model);case 8:t.sent;case 9:e.$router.push("/ads/list"),e.$message({type:"success",message:"保存成功"});case 11:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/ads/".concat(e.id));case 2:n=t.sent,e.model=n.data;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},Ne=Ae,Le=Object(o["a"])(Ne,Be,Te,!1,null,null,null),He=Le.exports,Ie=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v("用户列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),height:"450"}},[n("el-table-column",{attrs:{fixed:"",prop:"_id",label:"ID"}}),n("el-table-column",{attrs:{prop:"username",label:"用户名"}}),n("el-table-column",{attrs:{prop:"avatar",label:"头像"}}),n("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.$router.push("users/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[e._v(" //这是显示总共有多少数据， ")])],1)},Me=[],Ve={data:function(){return{tableData:[],currentPage:1,pagesize:5}},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/users/");case 2:n=t.sent,e.tableData=n.data;case 4:case"end":return t.stop()}}),t)})))()},remove:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$confirm('是否确定要删除分类?"'.concat(e.name,'"'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.delete("rest/users/".concat(e._id));case 2:t.$message({type:"success",message:"删除成功!"}),t.fetch();case 4:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)})))()}},created:function(){this.fetch()}},Fe=Ve,Je=(n("7e14"),Object(o["a"])(Fe,Ie,Me,!1,null,null,null)),qe=Je.exports,Ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v("管理员列表")]),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData.slice((e.currentPage-1)*e.pagesize,e.currentPage*e.pagesize),height:"450"}},[n("el-table-column",{attrs:{fixed:"",prop:"_id",label:"ID"}}),n("el-table-column",{attrs:{prop:"username",label:"用户名"}}),n("el-table-column",{attrs:{label:"操作",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{size:"mini"},on:{click:function(n){return e.$router.push("/admins/edit/"+t.row._id)}}},[e._v("编辑")]),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.remove(t.row)}}},[e._v("删除")])]}}])})],1),n("el-pagination",{attrs:{background:"","current-page":e.currentPage,"page-sizes":[5,10,20,40],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.tableData.length},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},[e._v(" //这是显示总共有多少数据， ")])],1)},Ke=[],Qe={data:function(){return{tableData:[],currentPage:1,pagesize:5}},methods:{handleSizeChange:function(e){this.pagesize=e},handleCurrentChange:function(e){this.currentPage=e},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/admins/");case 2:n=t.sent,e.tableData=n.data;case 4:case"end":return t.stop()}}),t)})))()},remove:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.$confirm('是否确定要删除分类?"'.concat(e.name,'"'),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object($["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$http.delete("rest/admins/".concat(e._id));case 2:t.$message({type:"success",message:"删除成功!"}),t.fetch();case 4:case"end":return n.stop()}}),n)}))));case 1:case"end":return n.stop()}}),n)})))()}},created:function(){this.fetch()}},We=Qe,Xe=(n("fced"),Object(o["a"])(We,Ge,Ke,!1,null,null,null)),Ye=Xe.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticStyle:{"margin-top":"0px"}},[e._v(e._s(e.id?"编辑":"新增")+"管理员")]),n("el-form",{attrs:{"label-width":"80px"},nativeOn:{submit:function(t){return t.preventDefault(),e.save(t)}}},[n("el-form-item",{attrs:{label:"用户名"}},[n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{width:"150"},model:{value:e.model.username,callback:function(t){e.$set(e.model,"username",t)},expression:"model.username"}})],1)],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{width:"150"},model:{value:e.model.password,callback:function(t){e.$set(e.model,"password",t)},expression:"model.password"}})],1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("提交")])],1)],1)],1)},et=[],tt={props:{id:{}},data:function(){return{model:{}}},methods:{save:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.id){t.next=6;break}return t.next=3,e.$http.put("rest/admins/".concat(e.id),e.model);case 3:t.sent,t.next=9;break;case 6:return t.next=8,e.$http.post("rest/admins",e.model);case 8:t.sent;case 9:e.$router.push("/admins/list"),e.$message({type:"success",message:"保存成功"});case 11:case"end":return t.stop()}}),t)})))()},fetch:function(){var e=this;return Object($["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/admins/".concat(e.id));case 2:n=t.sent,e.model=n.data;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){this.id&&this.fetch()}},nt=tt,at=Object(o["a"])(nt,Ze,et,!1,null,null,null),rt=at.exports;a["default"].use(h["a"]);var st=[{path:"/",name:"login",component:E,meta:{isPublic:!0}},{path:"/home",redirect:"/home",name:"Main",component:w,children:[{path:"/home",component:O},{path:"/categories/list",component:L},{path:"/categories/create",component:J},{path:"/categories/edit/:id",component:J,props:!0},{path:"/menus/list",component:X},{path:"/menus/create",component:ae},{path:"/menus/edit/:id",component:ae,props:!0},{path:"/articles/list",component:le},{path:"/articles/create",component:ge},{path:"/articles/edit/:id",component:ge,props:!0},{path:"/comments/list",component:ye},{path:"/comments/create",component:je},{path:"/comments/edit/:id",component:je,props:!0},{path:"/ads/list",component:Ue},{path:"/ads/create",component:He},{path:"/ads/edit/:id",component:He,props:!0},{path:"/users/list",component:qe},{path:"/admins/list",component:Ye},{path:"/admins/create",component:rt},{path:"/admins/edit/:id",component:rt,props:!0}]}],it=new h["a"]({base:"/admin/",routes:st});it.beforeEach((function(e,t,n){if(!e.meta.isPublic&&!localStorage.token)return n("/");n()}));var ct=it,ot=(n("38c8"),n("d3b7"),n("bc3a")),lt=n.n(ot),ut=lt.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/admin/"}).VUE_APP_API_URL||"/admin/api"});ut.interceptors.request.use((function(e){return localStorage.token&&(e.headers.Authorization="Bearer "+localStorage.token),e}),(function(e){return Promise.reject(e)})),ut.interceptors.response.use((function(e){return e}),(function(e){return e.response.data.message&&(a["default"].prototype.$message({type:"error",message:e.response.data.message}),401===e.response.status&&ct.push("/login")),Promise.reject(e)}));var pt=ut;a["default"].use(s.a),a["default"].config.productionTip=!1,a["default"].prototype.$http=pt,a["default"].mixin({computed:{uploadUrl:function(){return this.$http.defaults.baseURL+"/upload"}},methods:{getAuthHeaders:function(){return{Authorization:"Bearer ".concat(localStorage.token||"")}}}}),new a["default"]({router:ct,render:function(e){return e(p)}}).$mount("#app")},5888:function(e,t,n){},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),r=n.n(a);r.a},"5ced":function(e,t,n){},6539:function(e,t,n){},"6bb8":function(e,t,n){},"6e4d":function(e,t,n){},7174:function(e,t,n){},"7e14":function(e,t,n){"use strict";var a=n("985b"),r=n.n(a);r.a},"81be":function(e,t,n){"use strict";var a=n("5888"),r=n.n(a);r.a},8319:function(e,t,n){},"90dd":function(e,t,n){},"985b":function(e,t,n){},"9c0c":function(e,t,n){},c69f:function(e,t,n){},cccb:function(e,t,n){"use strict";var a=n("5ced"),r=n.n(a);r.a},d38b:function(e,t,n){"use strict";var a=n("6e4d"),r=n.n(a);r.a},e587:function(e,t,n){},fced:function(e,t,n){"use strict";var a=n("90dd"),r=n.n(a);r.a}});
//# sourceMappingURL=app.aecf9581.js.map