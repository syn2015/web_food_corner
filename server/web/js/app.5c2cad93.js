(function(t){function e(e){for(var n,r,c=e[0],o=e[1],l=e[2],d=0,m=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);u&&u(e);while(m.length)m.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,c=1;c<a.length;c++){var o=a[c];0!==s[o]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/web/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0152":function(t,e,a){},1672:function(t,e,a){},"21bb":function(t,e,a){"use strict";var n=a("2dad"),s=a.n(n);s.a},"27a9":function(t,e,a){},"2b55":function(t,e,a){"use strict";var n=a("a8f2"),s=a.n(n);s.a},"2c41":function(t,e,a){},"2dad":function(t,e,a){},"2e79":function(t,e,a){"use strict";var n=a("0152"),s=a.n(n);s.a},3572:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],r={name:"app"},c=r,o=a("2877"),l=Object(o["a"])(c,s,i,!1,null,null,null),u=l.exports,d=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"nav d-flex jc-around py-2"},t._l(t.list,(function(e,n){return a("div",{key:n,staticClass:"nav-item",class:{active:n==t.num},on:{click:function(e){return t.addClassName(n)}}},[a("router-link",{staticClass:"nav-link",attrs:{tag:"div",to:e.path}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.num!=n,expression:"num!=index"}],staticClass:"fs-ic",class:e.icon}),a("i",{directives:[{name:"show",rawName:"v-show",value:t.num==n,expression:"num==index"}],staticClass:"fs-ic",class:e.active}),a("p",[t._v(t._s(e.name))])])],1)})),0),a("router-view")],1)},p=[],f={name:"app",data:function(){return{num:0,list:[{icon:"iconfont icon-shouyeweixuanzhong",active:"iconfont icon-shouyexuanzhong",name:"首 页",path:"/home"},{icon:"iconfont icon-guanzhuweixuanzhong",active:"iconfont icon-guanzhuxuanzhong",name:"社 区",path:"/community"},{icon:"iconfont icon-xinzeng",active:"iconfont icon-xinzeng1",name:"发 布",path:"/add"},{icon:"iconfont icon-fenlei",active:"iconfont icon-fenlei1",name:"分 类",path:"/category"},{icon:"iconfont icon-zhanghaoweixuanzhong",active:"iconfont icon-zhanghaoxuanzhong",name:"我 的",path:"/personalcenter"}],tabName:""}},methods:{addClassName:function(t){this.num=t}}},v=f,h=(a("c0de"),Object(o["a"])(v,m,p,!1,null,"aaccc5e8",null)),g=h.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[t._m(0),a("div",{staticClass:"d-flex jc-center my-1 pb-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchMenu,expression:"searchMenu"}],staticClass:"search w-90 p-2 bg-grey-1 text-grey-2",attrs:{placeholder:" 搜索食谱"},domProps:{value:t.searchMenu},on:{input:function(e){e.target.composing||(t.searchMenu=e.target.value)}}}),a("i",{staticClass:"iconfont icon-sousuo0101",staticStyle:{"margin-top":"10px"},on:{click:t.searchBtn}})]),a("div",[a("swiper",{attrs:{options:t.swiperOption}},[t._l(t.ads,(function(t){return a("swiper-slide",{key:t},[a("img",{staticClass:"w-100",attrs:{src:t.image}})])})),a("div",{staticClass:"swiper-pagination pagination-home  px-3 pb-2",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),t._m(1),a("div",{ref:"father_scroll",staticClass:"father_scroll d-flex"},[a("div",{ref:"child_scroll",staticClass:"child_scroll"},t._l(t.articles,(function(t){return a("router-link",{key:t._id,staticClass:"mx-1",attrs:{tag:"div",to:"/article/detail/"+t._id}},[a("div",{staticClass:"bg-grey-1",staticStyle:{height:"80px","border-radius":"10px"}},[a("img",{staticClass:"h-100",staticStyle:{"border-radius":"10px"},attrs:{src:t.banner}})])])})),1)]),a("div",{staticClass:"food-list mt-6 pt-6"},[a("m-card",{attrs:{title:"精选菜谱",icon:"iconfont icon-icon-test",menu:t.menus}}),a("m-card",{attrs:{title:"最受欢迎食谱",icon:"iconfont icon-dangao",menu:t.menus}}),a("m-card",{attrs:{title:"烹饪灵感",icon:"iconfont icon-meishi",menu:t.menus}})],1),a("div",{staticClass:"p-5"})])},b=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topbar d-flex jc-center"},[n("img",{staticStyle:{width:"220px"},attrs:{src:a("cf05")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"fs-llg my-2 px-2"},[a("i",{staticClass:"iconfont icon-icon-test1 mr-2"}),a("strong",[t._v("热门活动")])])}],C=(a("4de4"),a("c975"),a("b0c0"),a("96cf"),a("1da1")),x=a("1fba"),w={data:function(){return{searchMenu:"",searchData:"",swiperOption:{pagination:{el:".swiper-pagination"}},articles:[],menus:[],ads:[]}},methods:{fetchAd:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("ad/list");case 2:a=e.sent,t.ads=a.data;case 4:case"end":return e.stop()}}),e)})))()},fetchActicle:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("article/list");case 2:a=e.sent,t.articles=a.data;case 4:case"end":return e.stop()}}),e)})))()},fetchMenu:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("menu/list");case 2:a=e.sent,t.menus=a.data;case 4:case"end":return e.stop()}}),e)})))()},searchBtn:function(){var t=this,e=this.searchMenu;e&&(this.searchData=this.menus.filter((function(e){return-1!==e.name.indexOf(t.searchMenu)}))),this.$router.push({path:"/search/list",query:{name:this.searchData}})}},created:function(){var t=this;this.$nextTick((function(){t.personScroll()})),this.fetchAd(),this.fetchActicle(),this.fetchMenu()},GetNum:function(){return this.width=240,this.width},personScroll:function(){var t=this;this.$refs.child_scroll.style.width=this.GetNum()+"px",this.$nextTick((function(){t.scroll?t.scroll.refresh():t.scroll=new x["a"](t.$refs.father_srcoll,{startX:0,click:!0,scrollX:!0,scrollY:!1,eventPassthrough:"vertical"})}))}},y=w,k=(a("21bb"),Object(o["a"])(y,_,b,!1,null,null,null)),$=k.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("div",{staticClass:"topbar d-flex jc-between"},[a("router-link",{staticClass:"m-4  fs-md",attrs:{tag:"div",to:"/home"}},[a("i",{staticClass:"iconfont icon-guanbi"})]),a("router-link",{staticClass:"m-4  fs-md",attrs:{tag:"div",to:"/register"}},[a("span",{staticClass:"text-primary"},[a("strong",[t._v("注 册")])])])],1),a("div",{staticClass:"login-body d-flex flex-column ai-center"},[a("h1",{staticClass:"mt-6 mb-6"},[t._v("Food Corner")]),a("form",{staticStyle:{"text-align":"center"},on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.username,expression:"model.username"}],staticClass:"p-2",attrs:{type:"text",placeholder:" 请输入用户名"},domProps:{value:t.model.username},on:{input:function(e){e.target.composing||t.$set(t.model,"username",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],staticClass:"p-2",attrs:{type:"password",placeholder:" 请输入密码"},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),a("button",{staticClass:"bg-primary m-3 py-2 fs-lg",attrs:{type:"submit"}},[t._v("登 录")])])])])},O=[],P={data:function(){return{model:{}}},methods:{login:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/login",t.model);case 2:a=e.sent,localStorage.token=a.data.token,localStorage.setItem("username",t.model.username),t.$router.push("/personalcenter"),t.$message({type:"success",message:"登录成功"});case 7:case"end":return e.stop()}}),e)})))()}}},S=P,R=(a("ea05"),Object(o["a"])(S,j,O,!1,null,"beae7282",null)),E=R.exports,M=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reg"},[a("div",{staticClass:"topbar d-flex jc-between"},[a("router-link",{staticClass:"m-4  fs-md",attrs:{tag:"div",to:"/login"}},[a("i",{staticClass:"iconfont"},[t._v("返回")])])],1),a("div",{staticClass:"reg-body d-flex flex-column ai-center"},[a("h1",{staticClass:"mt-6 mb-6"},[t._v("Food Corner")]),a("form",{staticStyle:{"text-align":"center"},on:{submit:function(e){return e.preventDefault(),t.submitUser(e)}}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.username,expression:"model.username"}],staticClass:"p-2",attrs:{type:"text",placeholder:" 请输入用户名"},domProps:{value:t.model.username},on:{input:function(e){e.target.composing||t.$set(t.model,"username",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.password,expression:"model.password"}],staticClass:"p-2",attrs:{type:"text",placeholder:" 请设置密码"},domProps:{value:t.model.password},on:{input:function(e){e.target.composing||t.$set(t.model,"password",e.target.value)}}}),a("button",{staticClass:"bg-primary m-3 py-2 fs-lg",attrs:{type:"submit"}},[t._v("注 册")])])])])},N=[],q={data:function(){return{model:{}}},methods:{submitUser:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/register",t.model);case 2:e.sent,t.$router.push("/login"),t.$message({type:"success",message:"注册成功"});case 5:case"end":return e.stop()}}),e)})))()}}},z=q,A=(a("856c"),Object(o["a"])(z,M,N,!1,null,"62a8291c",null)),D=A.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",{staticClass:"d-flex jc-center"},[t._v("精选文章")]),a("div",{staticClass:"article_card m-2"},[t._l(t.model,(function(e){return a("router-link",{key:e._id,staticClass:"article_item w-100",attrs:{tag:"div",to:"/article/detail/"+e._id}},[a("img",{staticClass:"w-100",attrs:{src:e.banner}}),a("p",{staticClass:"ml-2 fs-md",staticStyle:{"line-height":"1.5rem",width:"20rem"}},[t._v(t._s(e.title))]),a("span",{staticClass:"text-grey-2",staticStyle:{position:"absolute",right:"20px"}},[t._v(t._s(t._f("date")(e.createdAt)))]),a("p",{staticClass:"m-2 pb-2"},[a("i",{staticClass:"iconfont icon-face mr-2"}),t._v(t._s(e.author))])])})),a("div")],2),a("div",{staticClass:"my-6"})])},Y=[],I=a("5a0c"),L=a.n(I),T={filters:{date:function(t){return L()(t).format("MM/DD")}},data:function(){return{model:null}},methods:{fetch:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("article/list");case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}},B=T,F=(a("57e1"),Object(o["a"])(B,U,Y,!1,null,null,null)),G=F.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home d-flex"},[a("div",{staticClass:"left-nav"},[a("ul",{staticClass:"nav-title fs-lg"},t._l(t.tabParent,(function(e,n){return a("li",{key:e._id,class:{active:t.cur==n},on:{click:function(e){return t.get(n)}}},[a("h4",[t._v(t._s(e.name))])])})),0)]),a("div",{staticClass:"nav-content d-flex jc-start flex-wrap mt-5 ml-3",staticStyle:{width:"300px",height:"300px"}},t._l(t.tabChildren,(function(e,n){return a("div",{key:n,staticClass:"mt-3",staticStyle:{width:"80px","text-align":"center"}},[a("router-link",{attrs:{tag:"div",to:"/menu/list/"+e._id}},[a("img",{staticClass:" ",staticStyle:{width:"50px",height:"50px"},attrs:{src:e.icon}}),a("p",{staticClass:"fs-md"},[t._v(t._s(e.name))])])],1)})),0)])},J=[],V={name:"Home",data:function(){return{tabParent:[],tabChildren:[],cur:0,curId:"",model:null}},methods:{get:function(t){this.cur=t,this.curId=this.tabParent[t]._id,this.fetchChildren()},fetchParent:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("category/list");case 2:a=e.sent,t.tabParent=a.data,t.fetchInitChildren(a.data[0]._id);case 5:case"end":return e.stop()}}),e)})))()},fetchChildren:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("category/list/".concat(t.curId));case 2:a=e.sent,t.tabChildren=a.data;case 4:case"end":return e.stop()}}),e)})))()},fetchInitChildren:function(t){var e=this;return Object(C["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$http.get("category/list/".concat(t));case 2:n=a.sent,e.tabChildren=n.data;case 4:case"end":return a.stop()}}),a)})))()}},created:function(){this.fetchParent(),this.fetchChildren()}},X=V,K=(a("d89f"),Object(o["a"])(X,H,J,!1,null,"30b12a15",null)),Q=K.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"app bg-milk"},[a("div",{staticClass:"topbar d-flex jc-between"},[a("router-link",{staticClass:"m-2",attrs:{tag:"div",to:"/home"}},[a("i",{staticClass:"iconfont icon-fanhui"})]),a("router-link",{staticClass:"m-2",attrs:{tag:"div"}},[a("i",{staticClass:"iconfont icon-gengduo1"})])],1),a("div",{staticClass:"menu_body w-100 bg-milk"},[a("div",{staticClass:"menu_swiper"},[a("swiper",{attrs:{options:t.swiperOption}},[t._l(t.model.images,(function(t,e){return a("swiper-slide",{key:e},[a("img",{staticClass:"w-100",attrs:{src:t.img}})])})),a("div",{staticClass:"swiper-pagination pagination-home  px-3 pb-2",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),a("h2",{staticClass:"m-4"},[t._v(t._s(t.model.name))]),a("p",{staticClass:"m-4 fs-md"},[t._v(t._s(t.model.description))]),a("span",{staticClass:"fs-lg m-6 pl-5"},[a("i",{staticClass:"iconfont icon-schedule fs-llg mr-1"}),t._v(t._s(t.model.time)+"分钟")]),a("span",{staticClass:"fs-lg"},[a("i",{staticClass:"iconfont icon-donut_large fs-llg mr-1"}),t._v(t._s(t._f("diff")(t.model.difficulty)))]),a("div",{staticClass:"shicai mb-4"},[a("h3",{staticClass:"pl-4",staticStyle:{"border-left":"3px #eb5d5e solid"}},[t._v("主食材")]),t._l(t.model.ingredient,(function(e,n){return a("div",{key:n,staticClass:"fs-md d-flex jc-between m-2"},[a("div",{staticClass:"ml-4"},[a("span",[t._v(t._s(e.foodname))])]),a("div",[a("span",[t._v(t._s(e.amount))]),a("span",{staticClass:"mr-6"},[t._v(t._s(e.unit))])])])}))],2),t._l(t.model.step,(function(e,n){return a("div",{key:n,staticClass:"step"},[a("h3",{staticClass:"pl-4",staticStyle:{"border-left":"3px #eb5d5e solid"}},[t._v(" 步骤 "+t._s(n+1)),a("span",{staticClass:"text-grey-2"},[t._v("/"+t._s(t.model.step.length))])]),a("img",{staticClass:"w-90 ml-4",attrs:{src:e.image}}),a("p",{staticClass:"fs-md m-4"},[t._v(t._s(e.desc))])])}))],2)])])},Z=[],tt={filters:{diff:function(t){var e;switch(t){case 1:e="简单";break;case 2:e="一般";break;case 3:e="中等";break;case 4:e="困难";break;case 5:e="极难";break}return e}},props:{id:{required:!0}},data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"}},model:{}}},methods:{fetch:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("menu/detail/".concat(t.id));case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}},et=tt,at=Object(o["a"])(et,W,Z,!1,null,"6307a0fb",null),nt=at.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menulist"},[a("div",{staticClass:"topbar d-flex jc-between pb-2"},[a("router-link",{staticClass:"m-2 mt-3",attrs:{tag:"div",to:"/category"}},[a("i",{staticClass:"iconfont icon-fanhui"})]),a("h2",[t._v(t._s(t.pa.name))]),a("router-link",{staticClass:"m-2 mt-3",attrs:{tag:"div",to:"/community"}},[a("i",{staticClass:"iconfont icon-gengduo1"})])],1),a("div",{staticClass:"w-100 px-2"},t._l(t.model,(function(e){return a("router-link",{key:e._id,staticClass:"menuitem d-flex pb-3",attrs:{tag:"div",to:"/menu/detail/"+e._id}},[a("img",{staticClass:"menuimg w-45",attrs:{src:e.images[0].img}}),a("div",{staticClass:"ml-3"},[a("h3",{staticClass:"fs-lg"},[t._v(t._s(e.name))]),a("p",{staticClass:"fs-md text-grey-3"},[t._v("用时："+t._s(e.time)+" 分钟")]),a("p",{staticClass:"fs-md"},[t._v("制作难度："+t._s(t._f("diff")(e.difficulty)))]),a("p",{staticClass:"fs-md"},t._l(e.ingredient,(function(e,n){return a("span",{key:n},[t._v(" "+t._s(e.foodname)+" ")])})),0)])])})),1)])},it=[],rt={filters:{diff:function(t){var e;switch(t){case 1:e="简单";break;case 2:e="一般";break;case 3:e="中等";break;case 4:e="困难";break;case 5:e="极难";break}return e}},props:{id:{required:!0}},data:function(){return{model:{},pa:[]}},methods:{fetchMenu:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("menu/list/".concat(t.id));case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()},fetchParent:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("category/".concat(t.id));case 2:a=e.sent,t.pa=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetchParent(),this.fetchMenu()}},ct=rt,ot=(a("6b13"),Object(o["a"])(ct,st,it,!1,null,"c6b9872a",null)),lt=ot.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"menulist"},[a("div",{staticClass:"topbar d-flex jc-between pb-2"},[a("router-link",{staticClass:"m-2 mt-3",attrs:{tag:"div",to:"/home"}},[a("i",{staticClass:"iconfont icon-fanhui"})]),a("h2",[t._v("查询结果")]),a("router-link",{staticClass:"m-2 mt-3",attrs:{tag:"div",to:"/"}},[a("i",{staticClass:"iconfont icon-gengduo1"})])],1),a("div",{staticClass:"w-100 px-2"},[t._l(t.list,(function(e){return a("router-link",{key:e._id,staticClass:"menuitem d-flex pb-3",attrs:{tag:"div",to:"/menu/detail/"+e._id}},[a("img",{staticClass:"menuimg w-45",attrs:{src:e.images[0].img}}),a("div",{staticClass:"ml-3"},[a("h3",{staticClass:"fs-lg"},[t._v(t._s(e.name))]),a("p",{staticClass:"fs-md text-grey-3"},[t._v("用时："+t._s(e.time)+" 分钟")]),a("p",{staticClass:"fs-md"},[t._v("制作难度："+t._s(t._f("diff")(e.difficulty)))]),a("p",{staticClass:"fs-md"},t._l(e.ingredient,(function(e,n){return a("span",{key:n},[t._v(" "+t._s(e.foodname)+" ")])})),0)])])})),0==t.list.length?a("div",{staticStyle:{"text-align":"center"}},[a("p",{staticClass:"fs-lg"},[t._v("暂无结果！")])]):t._e()],2)])},dt=[],mt={filters:{diff:function(t){var e;switch(t){case 1:e="简单";break;case 2:e="一般";break;case 3:e="中等";break;case 4:e="困难";break;case 5:e="极难";break}return e}},data:function(){return{list:{}}},methods:{showList:function(){this.list=this.$route.query.name}},created:function(){this.showList()}},pt=mt,ft=(a("6689"),Object(o["a"])(pt,ut,dt,!1,null,"ddb2d1d4",null)),vt=ft.exports,ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app bg-milk"},[a("div",{staticClass:"topbar d-flex jc-between"},[a("router-link",{staticClass:"m-2",attrs:{tag:"div",to:"/community"}},[a("i",{staticClass:"iconfont icon-fanhui"})]),a("router-link",{staticClass:"m-2",attrs:{tag:"div"}},[a("i",{staticClass:"iconfont icon-gengduo1"})])],1),a("div",{staticClass:"article_body w-100 bg-milk"},[a("img",{staticClass:"w-100",attrs:{src:t.model.banner}}),a("p",{staticClass:"fs-lg ml-3"},[a("i",{staticClass:"iconfont icon-face fs-llg mr-1"}),t._v(" "+t._s(t.model.author))]),a("h3",{staticClass:"ml-3"},[t._v(t._s(t.model.title))]),a("div",{staticClass:" kk w-100 fs-md px-3 body",domProps:{innerHTML:t._s(t.model.body)}}),a("p",{staticClass:"text-grey-2 m-2 ml-4"},[t._v(t._s(t._f("date")(t.model.createdAt)))])])])},gt=[],_t={props:{id:{required:!0}},data:function(){return{model:{}}},filters:{date:function(t){return L()(t).format("YYYY/MM/DD")}},methods:{fetch:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("article/detail/".concat(t.id));case 2:a=e.sent,t.model=a.data;case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetch()}},bt=_t,Ct=(a("ac13"),Object(o["a"])(bt,ht,gt,!1,null,null,null)),xt=Ct.exports,wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"topbar d-flex jc-between pb-2"},[a("router-link",{staticClass:"m-2 mt-3",attrs:{tag:"div",to:"/"}},[a("i",{staticClass:"iconfont icon-fanhui"})]),a("router-link",{staticClass:"m-2 mt-3",attrs:{tag:"div",to:"/"}},[a("i",{staticClass:"iconfont icon-gengduo1"})])],1),a("div",{staticClass:"info"},[a("div",{staticClass:"name d-flex"},[a("i",{staticClass:"iconfont icon-face ml-5 mt-5",staticStyle:{"font-size":"50px"}}),a("h1",{staticClass:" pt-2 pl-4"},[t._v(t._s(t.model.username))]),a("p",{staticClass:"text-grey-3 fs-md ml-6 pl-4 pt-3"},[t._v(t._s(t._f("date")(t.model.createdAt))+" 加入")])])]),a("div",{staticClass:"content"},[a("button",{staticClass:"quit bg-primary text-white p-2 w-100 fs-lg",on:{click:t.quit}},[t._v("退出登录")])])])},yt=[],kt={filters:{date:function(t){return L()(t).format("YYYY年MM月DD日")}},data:function(){return{model:{}}},methods:{fetchUser:function(){this.model.username=localStorage.getItem("username")},quit:function(){localStorage.clear(),this.$router.push("/login")}},created:function(){this.fetchUser()}},$t=kt,jt=(a("e32a"),Object(o["a"])($t,wt,yt,!1,null,"0687f273",null)),Ot=jt.exports,Pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"topbar d-flex jc-between"},[a("router-link",{staticClass:"m-3  fs-md",attrs:{tag:"div",to:"/home"}},[a("span",[t._v("取消")])]),a("h2",[t._v("上传菜谱")]),a("span",{staticClass:"p-3 text-primary fs-md",on:{click:function(e){return t.onSubmit()}}},[a("strong",[t._v("发布")])])],1),a("form",[a("div",{staticClass:"fengmian  p-5 d-flex jc-center"},[a("el-upload",{staticClass:"w-45",attrs:{action:t.$http.defaults.baseURL+"/upload","file-list":t.model.images.img,"list-type":"picture-card","on-success":t.afterUpload}},[a("span",{staticClass:"fs-md"},[t._v("上传封面图")])])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.name,expression:"model.name"}],staticClass:"title w-90 p-2 bg-grey-1 text-grey-2 m-1 ml-3",attrs:{placeholder:"给这道菜取个名称"},domProps:{value:t.model.name},on:{input:function(e){e.target.composing||t.$set(t.model,"name",e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.description,expression:"model.description"}],staticClass:"des w-90 p-2 bg-grey-1 text-grey-2 ml-3",attrs:{placeholder:"这道菜的相关描述"},domProps:{value:t.model.description},on:{input:function(e){e.target.composing||t.$set(t.model,"description",e.target.value)}}}),a("div",{staticClass:"time ml-3 m-2"},[a("i",{staticClass:"iconfont icon-schedule  mt-1"}),t._v(" 时间："),a("input",{directives:[{name:"model",rawName:"v-model",value:t.model.time,expression:"model.time"}],staticClass:"w-90 p-2 bg-grey-1 text-grey-2",staticStyle:{width:"50px"},domProps:{value:t.model.time},on:{input:function(e){e.target.composing||t.$set(t.model,"time",e.target.value)}}}),t._v(" 分钟 ")]),a("div",{staticClass:"nandu ml-3 m-1"},[a("i",{staticClass:"iconfont icon-donut_large  mt-1"}),t._v(" 难度："),a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.difficulty,expression:"model.difficulty"}],staticStyle:{width:"70px",height:"30px","margin-top":"5px","margin-bottom":"5px","border-radius":"5px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"difficulty",e.target.multiple?a:a[0])}}},t._l(t.diff,(function(e){return a("option",{key:e._id,domProps:{value:e.id,textContent:t._s(e.name)}})})),0)]),a("div",{staticClass:"add_food"},[a("h3",{staticClass:"ml-3"},[t._v("添加食材")]),t._l(t.model.ingredient,(function(e,n){return a("div",{key:n,staticClass:"food ml-3",staticStyle:{"margin-bottom":"5px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.foodname,expression:"item.foodname"}],staticClass:"title w-45 p-2 bg-grey-1 text-grey-2 mr-1",attrs:{placeholder:"食材：如牛肉"},domProps:{value:e.foodname},on:{input:function(a){a.target.composing||t.$set(e,"foodname",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.amount,expression:"item.amount"}],staticClass:"title w-45 p-2 bg-grey-1 text-grey-2",attrs:{placeholder:"用量：如500g"},domProps:{value:e.amount},on:{input:function(a){a.target.composing||t.$set(e,"amount",a.target.value)}}})])})),a("button",{staticClass:"bg-primary m-3 py-2",on:{click:function(e){return t.model.ingredient.push({})}}},[t._v("添加一种食材")])],2),a("div",{staticClass:"add_step"},[a("h3",{staticClass:"ml-3"},[t._v("添加步骤")]),t._l(t.model.step,(function(e){return a("div",{key:e._id,staticClass:"step",staticStyle:{"margin-bottom":"5px"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.desc,expression:"ite.desc"}],staticClass:"title w-90 p-2 bg-grey-1 text-grey-2 m-3",attrs:{placeholder:"详细描述一下这个步骤"},domProps:{value:e.desc},on:{input:function(a){a.target.composing||t.$set(e,"desc",a.target.value)}}})])})),a("button",{staticClass:"bg-primary m-3 py-2",on:{click:function(e){return t.model.step.push({})}}},[t._v("添加一个步骤")])],2),a("div",{staticClass:"fenlei d-flex my-2"},[a("h3",{staticClass:"ml-3"},[t._v("食谱分类")]),a("div",{staticClass:"select_fenlei"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.model.parent,expression:"model.parent"}],staticStyle:{width:"100px",height:"30px","margin-top":"5px","margin-bottom":"5px","margin-left":"10px","border-radius":"5px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.model,"parent",e.target.multiple?a:a[0])}}},t._l(t.cats,(function(e){return a("option",{key:e._id,domProps:{value:e._id,textContent:t._s(e.name)}})})),0)])])]),a("div",{staticClass:"p-6"})])},St=[],Rt={data:function(){return{model:{name:"",description:"",images:[],difficulty:"",time:"",parent:"",ingredient:[],step:[]},cats:[],diff:[{name:"简单",id:1},{name:"一般",id:2},{name:"中等",id:3},{name:"困难",id:4},{name:"极难",id:5}]}},methods:{afterUpload:function(t){this.model.images.push({img:t.url})},fetchCategories:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("category/");case 2:a=e.sent,t.cats=a.data;case 4:case"end":return e.stop()}}),e)})))()},onSubmit:function(){var t=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.post("/menu",t.model);case 2:e.sent,t.$router.push("/home");case 4:case"end":return e.stop()}}),e)})))()}},created:function(){this.fetchCategories()}},Et=Rt,Mt=(a("5e47"),Object(o["a"])(Et,Pt,St,!1,null,"7027f2b2",null)),Nt=Mt.exports;n["default"].use(d["a"]);var qt=[{path:"/login",component:E,meta:{isPublic:!0}},{path:"/register",component:D,meta:{isPublic:!0}},{path:"/",component:g,children:[{path:"/",component:$},{path:"/home",component:$,meta:{isPublic:!0}},{path:"/community",component:G,meta:{isPublic:!0}},{path:"/category",component:Q,meta:{isPublic:!0}},{path:"/personalcenter",component:Ot},{path:"/add",component:Nt}]},{path:"/menu/detail/:id",component:nt,props:!0,meta:{isPublic:!0}},{path:"/article/detail/:id",component:xt,props:!0,meta:{isPublic:!0}},{path:"/menu/list/:id",component:lt,props:!0,meta:{isPublic:!0}},{path:"/menu/list",component:lt,meta:{isPublic:!0}},{path:"/search/list",component:vt,meta:{isPublic:!0}}],zt=new d["a"]({base:"/web/",routes:qt});zt.beforeEach((function(t,e,a){if(!t.meta.isPublic&&!localStorage.token)return a("/login");a()}));var At=zt,Dt=a("7212"),Ut=a.n(Dt),Yt=(a("d3b7"),a("bc3a")),It=a.n(Yt),Lt=It.a.create({baseURL:Object({NODE_ENV:"production",BASE_URL:"/web/"}).VUE_APP_API_URL||"/web/api"});Lt.interceptors.request.use((function(t){return localStorage.token&&(t.headers.Authorization="Bearer "+localStorage.token),t}),(function(t){return Promise.reject(t)})),Lt.interceptors.response.use((function(t){return t}),(function(t){return t.response.data.message&&(n["default"].prototype.$message({type:"error",message:t.response.data.message}),401===t.response.status&&At.push("/main")),Promise.reject(t)}));var Tt=Lt,Bt=(a("dfa4"),a("944d"),a("be35"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-header d-flex mb-2"},[a("i",{staticClass:"iconfont mt-2 ml-2",class:"icon-"+t.icon}),a("div",{staticClass:"flex-1 px-3 fs-llg pt-2"},[a("strong",[t._v(t._s(t.title))])])]),a("div",{staticClass:"card-body d-flex flex-wrap w-100"},t._l(t.menu,(function(e){return a("router-link",{key:e._id,staticClass:"article_item ml-2 mt-2 pl-1",attrs:{tag:"div",to:"/menu/detail/"+e._id}},[a("img",{staticClass:"w-100",attrs:{src:e.images[0].img}}),a("p",{staticClass:"fs-md ml-2"},[t._v(t._s(e.name))])])})),1)])}),Ft=[],Gt={props:{title:{type:String,required:!0},icon:{type:String,required:!0},menu:{type:Array,required:!0}}},Ht=Gt,Jt=(a("e60d"),a("2e79"),Object(o["a"])(Ht,Bt,Ft,!1,null,null,null)),Vt=Jt.exports,Xt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Kt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article_card d-flex jc-center"},[a("div",{staticClass:"article_item w-90 m-1"},[a("img",{staticClass:"w-100",staticStyle:{border:"1px solid #ff0000",height:"40px"}}),a("p",{staticClass:"ml-2",staticStyle:{"line-height":"1rem"}},[t._v("title")]),a("p",[a("i",{staticClass:"iconfont icon-face mr-2"}),t._v("作者名")])])])}],Qt={props:{title:{type:String,required:!0},icon:{type:String,required:!0}}},Wt=Qt,Zt=(a("2b55"),a("dfd4"),Object(o["a"])(Wt,Xt,Kt,!1,null,null,null)),te=Zt.exports,ee=a("5c96"),ae=a.n(ee);a("c69f");n["default"].use(ae.a),n["default"].prototype.$http=Tt,n["default"].use(Ut.a),n["default"].component("m-card",Vt),n["default"].component("a-card",te),n["default"].config.productionTip=!1,new n["default"]({router:At,render:function(t){return t(u)}}).$mount("#app")},"57e1":function(t,e,a){"use strict";var n=a("885c"),s=a.n(n);s.a},"5e47":function(t,e,a){"use strict";var n=a("67aa"),s=a.n(n);s.a},6689:function(t,e,a){"use strict";var n=a("e13b"),s=a.n(n);s.a},"67aa":function(t,e,a){},"6b13":function(t,e,a){"use strict";var n=a("3572"),s=a.n(n);s.a},7825:function(t,e,a){},"856c":function(t,e,a){"use strict";var n=a("c2da"),s=a.n(n);s.a},"885c":function(t,e,a){},"944d":function(t,e,a){},a8f2:function(t,e,a){},ac13:function(t,e,a){"use strict";var n=a("27a9"),s=a.n(n);s.a},b7ec:function(t,e,a){},be35:function(t,e,a){},c0de:function(t,e,a){"use strict";var n=a("ef9e"),s=a.n(n);s.a},c2da:function(t,e,a){},c69f:function(t,e,a){},cf05:function(t,e,a){t.exports=a.p+"img/logo.abd40891.png"},d89f:function(t,e,a){"use strict";var n=a("1672"),s=a.n(n);s.a},dfd4:function(t,e,a){"use strict";var n=a("7825"),s=a.n(n);s.a},e13b:function(t,e,a){},e32a:function(t,e,a){"use strict";var n=a("b7ec"),s=a.n(n);s.a},e60d:function(t,e,a){"use strict";var n=a("e9ec"),s=a.n(n);s.a},e9ec:function(t,e,a){},ea05:function(t,e,a){"use strict";var n=a("2c41"),s=a.n(n);s.a},ef9e:function(t,e,a){}});
//# sourceMappingURL=app.5c2cad93.js.map